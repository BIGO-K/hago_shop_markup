@charset 'utf-8';

@use 'sass:math';
@use '../setting/const';
@use '../setting/var';
@use '../helper/mixin';


//< 상품 분류 관리
.m_prod-part {
	@include mixin.flex-container();
	position: relative;

	&-category {
		width: 280px;

		.m__category-head {
			position: relative;
			padding-left: 15px;
			height: 34px;
			background-color: #444;
			@include mixin.font(#fff '12px/34px');

			.btn_add {
				position: absolute;
				top: 6px;
				right: 9px;
			}
		}

		.m__category-list {
			padding: 15px;
			min-height: 282px;
			border: 1px solid #d3d3d3;
			border-top: 0;

			ul {
				display: none;
				position: relative;
				margin-left: 17px;

				&::before {
					position: absolute;
					top: 0;
					bottom: 9px;
					left: 5px;
					width: 1px;
					background-color: #d3d3d3;
					content: '';
				}

				li {
					position: relative;
					margin-top: 6px;

					&.__category-open {
						> ul {
							display: block;
						}
					}

					.btn_item {
						padding: 0 25px 0 20px;
						@include mixin.font(#555 '12px/20px');

						&.__category-on {
							color: var.$color_primary_base;
						}

						&::before {
							position: absolute;
							top: 10px;
							left: 5px;
							width: 11px;
							height: 1px;
							background-color: #d3d3d3;
							content: '';
						}
					}

					.btn_add-down {
						position: absolute;
						top: 5px;
						right: 0;
						margin: -5px -5px 0 0;
						padding: 5px;
					}
				}
			}

			> ul {
				display: block;
				margin: -6px 0 0 0;

				&::before {
					top: 10px;
				}

				li {
					&:last-child::after {
						position: absolute;
						top: 11px;
						bottom: 0;
						left: 5px;
						width: 1px;
						background-color: #fff;
						content: '';
					}

					.ico_category-folder {
						position: absolute;
						z-index: 1;
						top: 4px;
						left: 0;
						background-color: #fff;
					}
				}
			}
		}

		.m__category-foot {
			padding: 9px;
			height: 42px;
			border: 1px solid #d3d3d3;
			border-top: 0;
			background-color: #f9f9f9;

			.btn_category-sort-cancel,
			.btn_category-sort-complete {
				display: none;
			}
		}

		&.__category-sortable {
			.m__category-list {
				li {
					@include mixin.prefix(touch-action, none, ms);
				}
			}

			.btn_add,
			.btn_add-down {
				display: none;
			}

			.m__category-foot {
				.btn_category-sort-cancel,
				.btn_category-sort-complete {
					display: inline-block;
				}

				.btn_excel,
				.btn_category-sort-edit {
					display: none;
				}
			}

			&.__category-dragging {
				.m__category-list {
					> ul {
						li:nth-last-child(2) {
							&.sortable-chosen::after,
							&.__category-open::after {
								position: absolute;
								top: 11px;
								bottom: 0;
								left: 5px;
								width: 1px;
								background-color: #fff;
								content: '';
							}
						}

						li.sortable-drag:after {
							content: none;
						}
					}
				}
			}
		}
	}

	&-form {
		@include mixin.prefix(flex, 1, webkit ms);
		margin-left: 30px;
	}
}
//> 상품 분류 관리

//< 상품등록
.m_prod-form {
	.btn_add {
		display: block;
		margin: 20px auto 0;
		width: 150px;
		line-height: 35px;

		.ico_add {
			position: absolute;
			right: 0;
			bottom: 11px;
			left: 0;
		}
	}

	&-product {
		.text_linked {
			+ .text_linked {
				margin-left: 2px;
			}
		}
	}

	&-seller {
		margin-top: 5px;

		.mm_formmix-price {
			margin: -5px 0 -6px;

			&.__radio-use {
				display: inline-block;
			}
		}
	}

	&-category {
		.m__category-list {
			dl {
				border: 1px solid #d5d5d5;

				+ dl {
					border-left: 0;
				}

				dt {
					padding: 10px 6px 11px;
					border-bottom: 1px solid #d5d5d5;
					background: #f9f9f9;
					font-weight: 700;
				}

				dd {
					overflow-y: scroll;
					position: relative;
					padding: 5px 0;
					height: 231px;
					line-height: 18px;

					p {
						position: absolute;
						top: 50%;
						left: 50%;
						@include mixin.transform(translate(-50%, -50%));
					}

					button {
						padding: 0 8px;
						width: 100%;
						text-align: left;

						&.__category-on {
							background: #ebebeb;
						}
					}
				}
			}
		}

		.m__category-selected {
			position: relative;
			margin: 20px auto 0;
			padding-left: 165px;
			width: 68.96551%;
			border: 1px solid #d5d5d5;
			@include mixin.font('12px/19px');

			dt {
				position: absolute;
				top: 50%;
				left: 0;
				margin-top: -1px;
				width: 165px;
				@include mixin.font(700 center);
				@include mixin.transform(translateY(-50%));
			}

			dd {
				padding: 9px 13px;
				border-left: 1px solid #d5d5d5;

				.btn_remove {
					padding: 4px 6px 0;
					height: 16px;
				}
			}
		}
	}

	&-origin {
		.mm_formmix-linked {
			~ .__option-use {
				margin-top: 6px;
			}
		}

		.mm_syncer-origin-etc {
			.mm_form-select {
				max-width: 250px;
			}
		}
	}

	&-essential {
		caption {
			.mm_note {
				> p {
					display: inline-block;
				}

				> a {
					position: relative;
					margin: 0 1px 0 5px;
					@include mixin.font(#666 400);

					&::after {
						position: absolute;
						right: 0;
						bottom: 2px;
						left: 0;
						border-bottom: 1px solid #666;
						content: '';
					}

					.ico_link {
						margin: 7px 0px 0 2px;
					}
				}
			}

			> p {
				margin-top: 13px;
				line-height: 23px;

				strong {
					margin-left: 4px;
					font-weight: 700;
				}

				.mm_btn {
					margin-left: 10px;
				}
			}
		}

		tbody {
			.m__essential-quality {
				[class*="mm_syncer-"] {
					@include mixin.prefix(flex, 1, webkit ms);
				}
			}
		}
	}

	.mm_form-multiple {
		width: 880px;

		li {
			&::after {
				font-size: 12px;
				content: '추가이미지' counter(listIndex);
			}

			&:first-of-type {
				&::after {
					font-weight: 700;
					counter-increment: none;
					content: '대표이미지';
				}

				.__image-on {
					label {
						border-color: var.$color_primary_base;
						border-color: #555;
					}
				}
			}
		}
	}

	&-preview {
		.m__preview-auto {
			overflow: hidden;
			position: relative;
			width: 138px;
			height: 184px;
			border: 1px solid #d5d5d5;

			> * {
				position: absolute;
				top: 50%;
				left: 50%;
				width: 100%;
				height: 100%;
				@include mixin.transform(translate(-50%, -50%));
			}

			p {
				height: auto;
				@include mixin.font(#999 center);
			}

			+ .mm_note {
				margin-bottom: -4px;
				font-size: 11px;
			}
		}

		.m__preview-self {
			overflow: hidden;
			width: 138px;

			.mm_form-image-preview {
				padding-top: 133.15217%;
			}

			.mm_form-image-box {
				padding-top: 133.15217%;
			}
		}

		&.__preview-funding__ {
			.m__preview-auto {
				width: 138px;
				height: 138px;
			}

			.m__preview-self {
				width: 138px;

				.mm_form-image-preview {
					padding-top: 100%;
				}

				.mm_form-image-box {
					padding-top: 100%;
				}
			}
		}
	}

	&-color {
		.mm_check-list {
			display: none;

			.mm_form-check {
				height: auto;
			}
		}

		.m__color-list {
			margin-top: 5px;

			> li {
				float: left;

				&:nth-child(n+2) {
					margin-left: 4px;
				}
			}
		}

		.bg_color {
			width: 24px;
			height: 24px;
			border: 1px solid #6e6e6e;
		}

		> .mm_btnbox {
			margin-top: 10px;

			.mm_btn:not(.btn_color-select) {
				display: none;
			}
		}

		&.__color-select {
			.mm_check-list {
				display: block;
			}

			.m__color-list {
				display: none;
			}

			> .mm_btnbox {
				.mm_btn {
					display: none;

					&:not(.btn_color-select) {
						display: inline-block;
					}

					&.btn_color-cancel {
						margin-left: 0;
					}
				}
			}
		}

		> .text_none {
			margin-top: 6px;
		}
	}

	&-minor {
		> .mm_form-check {
			margin-left: 60px;
		}
	}

	&-option {
		button.btn_add {
			margin: 40px auto 10px;
		}

		.mm_tablebox {
			&-unit {
				.text_path {
					width: 110px;
				}
			}

			.mm_table {
				th {
					.mm_btn {
						margin: 0 0 -1px 5px;
					}
				}
			}
		}
	}
}
//> 상품등록

//< 세트 상품 관리
.m_prod-set {
	&-info {
		margin-top: 70px;
	}
}
//> 세트 상품 관리

//< 상품 일괄 관리
.m_prod-all {
	&-price {
		.mm_radio-list + .mm_btn {
			margin-left: 20px;
		}
	}
}
//> 상품 일괄 관리

//< 상품 색상 관리
.m_prod-color {
	.text_color {
		position: relative;
		margin-left: 32px;
		width: 60px;
		@include mixin.font('14px/24px' left);

		.bg_color {
			position: absolute;
			top: 0;
			left: -32px;
			width: 24px;
			height: 24px;
			border: 1px solid #6e6e6e;
		}
	}
}
//> 상품 색상 관리