@charset 'utf-8';

@use 'sass:math';
@use '../setting/const';
@use '../setting/var';
@use '../helper/mixin';
@use '../helper/extend';


//< 장바구니
.m_cart {
	position: relative;
	padding-bottom: 40px;

	&-tabmenu {
		overflow: hidden;
		margin: 0 14px;
		padding-top: 24px;

		ul.mm_flex  {
			border-bottom: 1px solid #000;

			li {
				@include mixin.flex-container();
				height: auto;

				&:nth-of-type(n+2) {
					margin-left: -1px;
				}

				.btn_tab {
					position: relative;
					margin-top: 7px;
					padding: 16px 0;
					height: auto;
					border: 1px solid #ebebeb;
					border-bottom-width: 0;
					@include mixin.font(#999 '13px/18px');

					> b {
						height: auto;

						span {
							display: inline-block;
							margin-left: 5px;
							width: 17px;
							height: 17px;
							border-radius: 100%;
							background-color: #999;
							vertical-align: 0;
							@include mixin.font(#fff 700 '/20px' [var.$fontFamily_latin]);

							.__ios & {
								line-height: 17px;
							}
						}
					}

					&.__tab-on {
						z-index: 1;
						margin-top: 0;
						padding-top: 20px;
						border-color: #000;
						@include mixin.font(var.$color_text_base 500 '15px/21px');

						&::after {
							position: absolute;
							right: 0;
							bottom: -1px;
							left: 0;
							border-bottom: 1px solid #fff;
							content: '';
						}

						b {
							position: static;

							span {
								margin-left: 6px;
								width: 21px;
								height: 21px;
								background-color: var.$color_main_base;
								line-height: 24px;

								.__ios & {
									line-height: 22px;
								}
							}
						}
					}
				}
			}
		}
	}

	.mm_order-item {
		margin-bottom: 22px;

		.mm_product-list {
			> ul {
				> li {
					position: relative;
				}
			}

			.btn_product-remove {
				position: absolute;
				top: 11px;
				right: 0;
				padding: 10px 18px;
				@include mixin.font(#aeaeae '15px');
			}
		}
	}

	.mm_product-item {
		&-footer {
			.mm_like {
				position: static;
				margin-left: -7px;
				padding: 8px 9px;
				max-width: 38px;
				@include mixin.font(#999 '20px');
				@include mixin.transform(none !important);
			}

			.btn_option-switch {
				.mco_dropdown {
					position: static;
					margin-left: 9px;
					@include mixin.font(#5c5c5c '11px/31px');
					@include mixin.transform(none);
				}
			}

			> .mm_btnbox {
				button:not(.mm_like) {
					padding: 0;
				}
			}

			.mm_btnbox {
				&.mm_flex > .mm_btn {
					&:nth-child(n+2) {
						margin-left: 5px;
					}

					&:nth-child(n+3) {
						margin-top: 0;
					}
				}

				&.__switch-on {
					.mco_dropdown::before {
						line-height: 29px;
						@include mixin.transform(scale(-1));
					}

					+ .m_cart-select {
						visibility: inherit;
						margin: 22px -13px -20px;
						padding-bottom: 19px;
						height: auto;
					}
				}
			}

			.text_cart-soldout {
				margin-left: 5px;
				width: 100%;
				border: 1px solid #dcdcdc;
				border-radius: 15px;
				background-color: #f5f5f5;
				@include mixin.font(#5c5c5c '13px/28px' center);
			}
		}
	}

	&-select {
		visibility: hidden;
		position: relative;
		height: 0;
		border: 1px solid transparent;
		border-top-color: #eee;
		background-color: #fafafa;

		&.__select-soldout {
			border-color: var.$color_secondary_base;

			&::before {
				border-color: var.$color_secondary_base;
			}
		}

		&:not(.__select-soldout) {
			.mm_dropdown.__dropdown-on {
				+ .mm_dropdown {
					display: block;
				}
			}
		}

		&::before {
			position: absolute;
			z-index: 1;
			top: -7px;
			left: 76px;
			width: 8px;
			height: 8px;
			border: 1px solid #eee;
			border-width: 1px 0 0 1px;
			background-color: #fafafa;
			content: '';
			@include mixin.transform(rotate(45deg), 0 0);
		}

		.m_product-option-select {
			padding-bottom: 0;

			&.__selected-single {
				> *:not(.btn_size) {
					display: none !important;
				}
			}

			.btn_size {
				top: 19px;
				right: 12px;
			}

			.mm_dropdown {
				&.__option-select {
					+ .mm_dropdown {
						display: block;
					}
				}
			}
		}

		&-quantity {
			margin: 22px 18px;
			font-size: 0;

			.text_stock {
				margin-left: 9px;
				 @include mixin.font(var.$color_secondary_base '12px/28px');
			}
		}

		> .mm_btnbox {
			margin: 22px 18px 0;
		}
	}

	.text_purchase-price {
		padding: 18px 0 21px;
		@include mixin.font('13px/20px' center);

		strong {
			font-weight: 700;
		}
	}

	.mm_cost {
		border: 0;

		tbody {
			tr:last-child {
				th,
				td {
					padding-bottom: 17px;
				}
			}
		}

		tfoot {
			th,
			td {
				padding-top: 16px;
				padding-bottom: 21px;
			}
		}
	}

	&-pop {
		position: fixed;
		z-index: 1;
		left: 28px;
		bottom: 70px;
		height: 37px;
		background-color: #fff;
		border-radius: 3px;
		border: 1px solid #101010;

		&::before,
		&::after {
			position: absolute;
			z-index: -1;
			right: 22px;
			bottom: -5px;
			@include mixin.triangle(#101010, bottom, 7px, 8px);
			@include mixin.transform(rotate(90deg));
			content: '';
		}

		&::after {
			right: 23px;
			bottom: -3px;
			@include mixin.triangle(#fff, bottom, 7px, 8px);
		}

		> p {
			padding: 0 35px 2px 12px;
			background-color: #fff;
			border-radius: 3px;
			@include mixin.font('13px/33px');

			strong {
				@include mixin.font(var.$color_secondary_base 700);
			}
		}

		.btn_close {
			position: absolute;
			top: 0;
			right:0;
			padding: 0 12px;
			@include mixin.font(#aeaeae '11px/35px');
		}

		&.__pop-hide {
			display: none;
		}
	}

	&-none {
		height: 100%;
		@include mixin.font('0' center);

		&::before {
			margin-left: -1px;
			width: 1px;
			height: 100%;
			vertical-align: middle;
			content: '';
		}

		.mm_inner {
			display: inline-block;
			width: 100%;
			vertical-align: middle;

			.mm_text-none {
				padding: 0 0 29px;
			}
		}
	}
}
//> 장바구니

//< 주문결제
.m_popup-order {
	> .mm_dropdown {
		.mm_dropdown-item-inner {
			.mm_strapline:first-child {
				+ .mm_form-text {
					margin-bottom: 23px;

					+ .mm_strapline,
					+ section .mm_strapline {
						margin-top: 0;
					}
				}
			}

			> section {
				&:first-child {
					.mm_strapline {
						margin-top: 0;
					}
				}

				.mm_strapline {
					margin-top: 23px;
				}
			}
		}
	}

	.mm_address-list {
		margin: 0 -14px;
	}

	&-abroad {
		position: relative;
		margin-top: 26px;
		border-top: 1px solid #eee;

		.mm_strapline {
			margin-top: 23px;
		}

		.mm_btn {
			position: absolute;
			top: 21px;
			right: 0;
			margin-top: 0;
		}

		.mm_note {
			margin-top: 8px;
		}

		.btn_abroad {
			padding: 3px 6px;
			color: var.$color_primary_base;

			.mco_link {
				margin: 1px 0 -1px 6px;
				font-size: 10px;
			}
		}

		.mm_check-listbox {
			margin-top: 17px;
		}
	}

	.text_count {
		vertical-align: 0;
		font-size: 17px;

		strong {
			vertical-align: 0;
			@include mixin.font(var.$color_text_base 700 [var.$fontFamily_latin], 0);
		}

		sub {
			font-size: 13px;
			vertical-align: 1px;
		}

		&::after {
			margin: 9px 12px 0 15px;
			width: 1px;
			height: 10px;
			background-color: #cdcdcd;
			content: '';

			[class*="__ios"] & { margin-top: 7px; }
		}
	}

	.mm_order-item {
		> .mm_form-check {
			padding-top: 0;
		}

		.text_discount {
			margin-left: 8px;
			vertical-align: 1px;
			@include mixin.font(var.$color_secondary_base 400 '10px' [var.$fontFamily_base], -0.5px);

			&::after {
				display: none;
			}
		}
	}

	&-point {
		.mm_formmix-linked {
			.mm_form-text {
				max-width: 150px;
			}

			+ p {
				padding: 10px 0 1px 1px;
				vertical-align: 0;
				font-size: 13px;

				.text_price {
					strong {
						padding: 0 3px 0 8px;
						@include mixin.font(500 '15px');

						&::after {
							vertical-align: 0;
							font-size: 13px;
						}
					}
				}
			}
		}
	}

	&-payway {
		.m__payway-select {
			padding: 0 25px;
			font-size: 0;

			ul {
				li {
					display: inline-block;
					width: 33.33333%;
				}
			}

			.mm_form-radio {
				display: block;
				padding-left: 0;

				.mm_block {
					padding: 11px 0 21px;
					text-align: center;

					.text_label {
						display: block;
						margin-top: -7px;
						@include mixin.font(#a3a3a3 '13px/16px');
					}

					.m__payway-toss-event {
						position: absolute;
						top: -15px;
						left: 50%;
						margin-left: 45px;
						width: 46px;
						height: 47px;
						@include mixin.background(url('https://image.hago.kr/mall/ui/mobile/content/order_icon_event.png') '0 0/cover' no-repeat);
						@include mixin.transform(translateX(-50%));
					}

					.text_badge {
						position: absolute;
						bottom: 9px;
						left: 50%;
						padding: 4px 6px 1px;
						border-radius: 20px;
						background: var.$color_secondary_base;
						@include mixin.font(#fff '10px', nowrap);
						@include mixin.transform(translateX(-50%));
					}
				}

				:checked {
					+ .mm_block {
						&::before {
							position: absolute;
							top: 0;
							right: 0;
							bottom: 0;
							left: 0;
							border: 1px solid var.$color_primary_base;
							border-radius: 3px;
							content: '';
						}

						[class*="ico_payment"]::before {
							background-position-x: 100%;
						}

						.text_label {
							color: var.$color_primary_base;
						}
					}
				}

				$payways: (naver, #00c73c), (kakao, #47292b), (payco, #fa1414), (toss, #0050ff);
				@each $pay, $color, $fontColor in $payways {
					&.m__payway-#{$pay} {
						:checked + .mm_block {
							&::before {
								border-color: $color;
							}

							.text_label {
								color: if($fontColor, $fontColor, $color);
							}
						}
					}
				}
			}
		}

		[class*="mm_syncer-payway-"] {
			margin: 20px 0 -20px;
			padding: 20px 0;
			border-top: 1px solid #e6e6e6;
			font-size: 13px;

			> .mm_note {
				margin: -4px 0 -3px;
				padding: 0 14px;
			}
		}

		.mm_syncer-payway {
			&-card {
				padding: 20px 14px;

				.btn_card-guide {
					margin-bottom: -14px;
					padding: 14px 1px;

					> i {
						margin: 2px 0 0 9px;
						font-size: 11px;
					}
				}
			}

			&-bank {
				.mm_form-text + p {
					margin-top: 11px;
				}

				section {
					margin-top: 20px;
					padding: 0 14px;
					border-top: 1px dashed #eee;

					.mm_strapline {
						margin-top: 18px;
						padding-bottom: 12px;
					}

					ul {
						li:nth-child(n+2) {
							margin-left: 8px;
						}
					}

					.mm_form-radio {
						display: block;
						padding-left: 0;

						.mm_block {
							padding: 8px 0 9px;
							border: 1px solid #e6e6e6;
							border-radius: 3px;
							text-align: center;

							.text_label {
								@include mixin.font(#4a4a4a '14px');
							}
						}

						:checked + .mm_block {
							border-color: var.$color_primary_base;

							.text_label {
								color: var.$color_primary_base;
							}
						}
					}

					.mm_form-text {
						margin-top: 7px;
					}

					.m__payway-refund {
						border-top: 1px solid #e6e6e6;
					}
				}
			}
		}
	}

	&-agree {
		margin-top: 20px;
		padding: 0 14px;

		.mm_dropdown:not(.mm_note) {
			padding-bottom: 5px;
			border: 1px solid #e6e6e6;
			border-radius: 3px;
			@include mixin.font('15px/1');

			&.__dropdown-on .btn_dropdown > i {
				color: #a3a3a3;
			}

			.btn_dropdown {
				padding: 14px 14px 9px;
				@include mixin.font('/25px' left);

				i {
					margin-top: 1px;
					right: 24px;
				}
			}

			.mm_dropdown-item-inner {
				padding: 0 14px 14px;

				li {
					position: relative;

					&:nth-child(n+2) {
						margin-top: 8px;
					}

					&.__switch-on {
						table {
							display: table;
						}
					}

					> b {
						padding-left: 20px;

						&::before {
							position: absolute;
							top: 4px;
							left: 5px;
							width: 6px;
							height: 6px;
							border: 1px solid #a3a3a3;
							border-width: 0 0 1px 1px;
							content: '';
						}
					}
				}

				.btn_detail {
					position: absolute;
					top: -5px;
					right: 0;
					padding: 0 10px;
					@include mixin.font(#8c8c8c '12px/22px');

					> b {
						text-decoration: underline;
					}
				}

				table {
					display: none;
					margin-top: 14px;

					th,
					td {
						border: 1px solid #e6e6e6;
						@include mixin.font(#5c5c5c '13px/20px' left);
					}

					th {
						padding: 10px 8px;
						width: 89px;
						background-color: #f5f5f5;
					}

					td {
						padding: 10px 18px 10px 12px;
					}
				}
			}
		}

		> p {
			margin: 7px 0 0 3px;
			@include mixin.font('15px/25px');
		}

		> .mm_note {
			&.mm_dropdown {
				margin-top: 40px;
			}

			&.__note_line__ {
				margin-top: 28px;
				padding: 16px 17px 17px;
				border-color: #feb97d;
				background-color: #fffdf9;
				@include mixin.font(var.$color_secondary_base '14px');
			}
		}
	}

	&-address {
		.mm_dropdown-item-inner {
			> .mm_form-check {
				display: block;
				margin: -20px 0 20px;
				padding: 20px 13px 15px;
				border-bottom: 1px solid #e6e6e6;
			}
		}
	}
}
//> 주문결제

//< 쿠폰적용
.m_popup-order-coupon {
	padding-top: 22px;
}
//> 쿠폰적용

//< 주문완료
.m_popup-order-fin {
	.mm_title {
		padding-top: 38px;

		+ p {
			padding-top: 6px;
			@include mixin.font(#6a6a6a '14px' center);
		}

		~ .mm_btnbox {
			margin-top: 22px;
		}
	}

	.mm_strapline {
		padding-top: 23px;
	}

	.m__fin-deposit {
		margin-top: 22px;
		padding: 18px 10px 20px;
		background-color: #fafafa;
		text-align: center;

		.m__deposit-inner {
			display: inline-block;
			@include mixin.font(#6a6a6a '13px/19px' left);
		}

		.text_time {
			margin-left: 6px;
		}
	}

	.mm_order-item {
		margin: 0 -14px;
		padding: 47px 0 20px;
		border-top: 0;
	}

	.mm_line {
		margin: 0 -14px;
	}

	.mm_text-none {
		padding-bottom: 29px;
	}
}
//> 주문완료

//< 개인통관고유부호수집및제공
.m_popup-abroad {
	padding: 18px 14px 0;
	@include mixin.font('13px/19px');

	p {
		@include mixin.font(#5c5c5c '/20px');
	}

	li:nth-child(n+2) {
		margin-top: 20px;
	}
}
//> 개인통관고유부호수집및제공